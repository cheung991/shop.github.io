(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e5cc52a"],{"0586":function(e,a,l){},"16fd":function(e,a,l){"use strict";l("0586")},1860:function(e,a,l){},"1b2a":function(e,a,l){},2630:function(e,a,l){"use strict";l.r(a);var t=function(){var e=this,a=e._self._c;return a("div",[a("app-head"),a("app-body",[a("div",{staticClass:"release-container"},[a("div",{staticClass:"release-header"},[a("h2",{staticClass:"release-title"},[e._v("상품 등록")]),a("p",{staticClass:"release-subtitle"},[e._v("아래 양식에 맞게 상품 정보를 입력해주세요")])]),a("div",{staticClass:"release-form-container"},[a("div",{staticClass:"form-section"},[a("div",{staticClass:"form-label"},[e._v("상품명")]),a("el-input",{staticClass:"form-input",attrs:{placeholder:"상품 이름을 입력하세요",maxlength:"30","show-word-limit":""},model:{value:e.idleItemInfo.idleName,callback:function(a){e.$set(e.idleItemInfo,"idleName",a)},expression:"idleItemInfo.idleName"}})],1),a("div",{staticClass:"form-section"},[a("div",{staticClass:"form-label"},[e._v("상세 설명")]),a("el-input",{staticClass:"form-textarea",attrs:{type:"textarea",rows:6,placeholder:"상품에 대한 자세한 설명을 입력하세요...",maxlength:"1000","show-word-limit":""},model:{value:e.idleItemInfo.idleDetails,callback:function(a){e.$set(e.idleItemInfo,"idleDetails",a)},expression:"idleItemInfo.idleDetails"}})],1),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-section half-width"},[a("div",{staticClass:"form-label"},[e._v("지역")]),a("el-cascader",{staticClass:"form-input",attrs:{options:e.options,separator:" ",placeholder:"지역을 선택하세요"},on:{change:e.handleChange},model:{value:e.selectedOptions,callback:function(a){e.selectedOptions=a},expression:"selectedOptions"}})],1),a("div",{staticClass:"form-section half-width"},[a("div",{staticClass:"form-label"},[e._v("카테고리")]),a("el-select",{staticClass:"form-input",attrs:{placeholder:"카테고리 선택"},model:{value:e.idleItemInfo.idleLabel,callback:function(a){e.$set(e.idleItemInfo,"idleLabel",a)},expression:"idleItemInfo.idleLabel"}},e._l(e.options2,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),a("div",{staticClass:"form-section"},[a("div",{staticClass:"form-label"},[e._v("판매 가격")]),a("el-input-number",{staticClass:"form-input-number",attrs:{precision:2,step:1e3,max:1e7,min:0},model:{value:e.idleItemInfo.idlePrice,callback:function(a){e.$set(e.idleItemInfo,"idlePrice",a)},expression:"idleItemInfo.idlePrice"}},[a("template",{slot:"prepend"},[e._v("₩")])],2)],1),a("div",{staticClass:"form-section"},[a("div",{staticClass:"form-label"},[e._v("상품 사진 업로드")]),a("div",{staticClass:"image-upload-container"},[a("el-upload",{staticClass:"image-uploader",attrs:{action:"http://localhost:8080/file/","on-preview":e.fileHandlePreview,"on-remove":e.fileHandleRemove,"on-success":e.fileHandleSuccess,"show-file-list":e.showFileList,limit:10,"on-exceed":e.handleExceed,accept:"image/*",drag:"",multiple:""}},[a("i",{staticClass:"el-icon-upload upload-icon"}),a("div",{staticClass:"upload-text"},[e._v("이미지를 여기로 끌어오거나 "),a("em",[e._v("클릭하여 업로드")])]),a("div",{staticClass:"upload-hint"},[e._v("최대 10장, 고화질 이미지 권장")])]),e.imgList.length>0?a("div",{staticClass:"preview-title"},[e._v("업로드된 이미지 ("+e._s(e.imgList.length)+"장)")]):e._e(),a("div",{staticClass:"image-preview-list"},e._l(e.imgList,(function(l,t){return a("div",{key:t,staticClass:"image-preview-item"},[a("el-image",{attrs:{src:l,fit:"cover","preview-src-list":e.imgList}}),a("div",{staticClass:"image-preview-actions"},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(a){return e.removeImage(t)}}})],1)],1)})),0)],1),a("el-dialog",{attrs:{visible:e.imgDialogVisible},on:{"update:visible":function(a){e.imgDialogVisible=a}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),a("div",{staticClass:"form-actions"},[a("el-button",{attrs:{type:"info",plain:"",icon:"el-icon-back"},on:{click:e.goBack}},[e._v("취소")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.releaseButton}},[e._v("등록하기")])],1)])]),a("div",{staticStyle:{height:"100px"}}),a("app-foot")],1)],1)},i=[],s=(l("a481"),l("6e70")),n=l("4fc4"),o=l("85a9"),c=l("bd2e"),u={name:"release",components:{AppHead:s["a"],AppBody:n["a"],AppFoot:o["a"]},data:function(){return{imgDialogVisible:!1,dialogImageUrl:"",showFileList:!1,options:c["a"],selectedOptions:[],options2:[{value:1,label:"채소"},{value:2,label:"과일"},{value:3,label:"육류"},{value:4,label:"해산"},{value:5,label:"유제품"}],imgList:[],idleItemInfo:{idleName:"",idleDetails:"",pictureList:"",idlePrice:0,idlePlace:"",idleLabel:""}}},methods:{handleChange:function(e){console.log(e),this.idleItemInfo.idlePlace=e[0]+" "+e[1]},fileHandleRemove:function(e,a){console.log(e,a);for(var l=0;l<this.imgList.length;l++)this.imgList[l]===e.response.data&&this.imgList.splice(l,1)},fileHandlePreview:function(e){console.log(e),this.dialogImageUrl=e.response.data,this.imgDialogVisible=!0},fileHandleSuccess:function(e,a,l){console.log("file:",e,a,l),this.imgList.push(e.data)},removeImage:function(e){this.imgList.splice(e,1)},goBack:function(){this.$router.go(-1)},releaseButton:function(){var e=this;this.idleItemInfo.pictureList=JSON.stringify(this.imgList),console.log(this.idleItemInfo),this.idleItemInfo.idleName&&this.idleItemInfo.idleDetails&&this.idleItemInfo.idlePlace&&this.idleItemInfo.idleLabel&&this.idleItemInfo.idlePrice?this.$api.addIdleItem(this.idleItemInfo).then((function(a){1===a.status_code?(e.$message({message:"등록 성공!",type:"success"}),console.log(a.data),e.$router.replace({path:"/details",query:{id:a.data.id}})):e.$message.error("등록 실패! "+a.msg)})).catch((function(a){e.$message.error("모든 정보를 입력해주세요")})):this.$message.error("모든 정보를 입력해주세요!")},handleExceed:function(e,a){this.$message.warning("최대 10장의 이미지만 업로드할 수 있습니다. ".concat(e.length,"장을 선택했으며, 총 ").concat(e.length+a.length,"장이 선택되었습니다"))}}},r=u,v=(l("16fd"),l("2877")),d=Object(v["a"])(r,t,i,!1,null,"1318820b",null);a["default"]=d.exports},"4fc4":function(e,a,l){"use strict";var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-content"},[e._t("default")],2)])},i=[],s={name:"PageBody"},n=s,o=(l("8d80"),l("2877")),c=Object(o["a"])(n,t,i,!1,null,"37fb9066",null);a["a"]=c.exports},"6e70":function(e,a,l){"use strict";var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-container"},[a("div",{staticClass:"app-name"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticStyle:{width:"36px",position:"relative",top:"5px","border-radius":"50%"},attrs:{src:l("cf05")}}),a("b",[e._v("임박 할인 식품")])])],1),a("div",{staticClass:"nav-actions"},[a("router-link",{staticClass:"nav-icon",attrs:{to:"/release"}},[a("i",{staticClass:"el-icon-plus"})]),a("router-link",{staticClass:"nav-icon",attrs:{to:"/message"}},[a("i",{staticClass:"el-icon-bell"})]),e.isLogin?a("el-dropdown",{attrs:{trigger:"click"}},[a("div",{staticClass:"user-profile"},[a("el-avatar",{attrs:{size:32,src:e.avatarValue?e.avatarValue:e.avatar}})],1),a("el-dropdown-menu",{staticClass:"dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticClass:"dropdown-item",on:{click:e.toMe}},[e._v("마이페이지")])]),a("el-dropdown-item",{staticClass:"logout-item",attrs:{divided:""}},[a("div",{on:{click:e.loginOut}},[e._v("로그아웃")])])],1)],1):a("router-link",{staticClass:"nav-icon user-icon",attrs:{to:"/login"}},[a("i",{staticClass:"el-icon-user"})])],1)])])},i=[],s=(l("a481"),{name:"Header",props:["searchInput","nicknameValue","avatarValue"],data:function(){return{searchValue:this.searchInput,nickname:"로그인",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",isLogin:!1}},created:function(){var e=this;this.$globalData.userInfo.nickname?(this.nickname=this.$globalData.userInfo.nickname,this.avatar=this.$globalData.userInfo.avatar,this.isLogin=!0):this.$api.getUserInfo().then((function(a){console.log("Header getUserInfo:",a),1===a.status_code&&(e.nickname=a.data.nickname,e.avatar=a.data.avatar,a.data.signInTime=a.data.signInTime.substring(0,10),e.$globalData.userInfo=a.data,e.isLogin=!0)}))},methods:{searchIdle:function(){"/search"!==this.$route.path?this.$router.push({path:"/search",query:{searchValue:this.searchValue}}):(this.$router.replace({path:"/search",query:{searchValue:this.searchValue}}),this.$router.go(0))},toMe:function(){"/me"!==this.$route.path&&this.$router.push({path:"/me"})},toMessage:function(){"/message"!==this.$route.path&&this.$router.push({path:"/message"})},toRelease:function(){"/release"!==this.$route.path&&this.$router.push({path:"/release"})},loginOut:function(){var e=this;this.$api.logout().then((function(a){1===a.status_code?(e.$globalData.userInfo={},console.log("login out"),"/index"===e.$route.path?e.$router.go(0):e.$router.push({path:"/index"})):e.$message.error("네트워크 오류. 로그아웃 실패!")}))}}}),n=s,o=(l("7154"),l("2877")),c=Object(o["a"])(n,t,i,!1,null,"1d9eff64",null);a["a"]=c.exports},7154:function(e,a,l){"use strict";l("dabf")},"72a3":function(e,a,l){"use strict";l("1b2a")},"85a9":function(e,a,l){"use strict";var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"foot-container"},[a("div",{staticClass:"nav-container"},[a("router-link",{staticClass:"nav-item",class:{active:e.isActivePage("/index")},attrs:{to:"/index"}},[a("i",{staticClass:"el-icon-s-home"}),a("span",[e._v("홈")])]),a("router-link",{staticClass:"nav-item",class:{active:e.isActivePage("/search")},attrs:{to:"/search"}},[a("i",{staticClass:"el-icon-search"}),a("span",[e._v("검색")])]),a("router-link",{staticClass:"nav-item",class:{active:e.isActivePage("/release")},attrs:{to:"/release"}},[a("i",{staticClass:"el-icon-plus"}),a("span",[e._v("등록")])]),a("router-link",{staticClass:"nav-item",class:{active:e.isActivePage("/message")},attrs:{to:"/message"}},[a("i",{staticClass:"el-icon-bell"}),a("span",[e._v("메시지")])]),a("router-link",{staticClass:"nav-item",class:{active:e.isActivePage("/me")},attrs:{to:"/me"}},[a("i",{staticClass:"el-icon-user"}),a("span",[e._v("마이")])])],1)])},i=[],s={name:"Foot",methods:{isActivePage:function(e){return this.$route.path===e}}},n=s,o=(l("72a3"),l("2877")),c=Object(o["a"])(n,t,i,!1,null,"2c5dd8f7",null);a["a"]=c.exports},"8d80":function(e,a,l){"use strict";l("1860")},bd2e:function(e,a,l){"use strict";var t=[{value:"서울특별시",label:"서울특별시",children:[{value:"종로구",label:"종로구"},{value:"중구",label:"중구"},{value:"용산구",label:"용산구"},{value:"성동구",label:"성동구"},{value:"광진구",label:"광진구"},{value:"동대문구",label:"동대문구"},{value:"중랑구",label:"중랑구"},{value:"성북구",label:"성북구"},{value:"강북구",label:"강북구"},{value:"도봉구",label:"도봉구"},{value:"노원구",label:"노원구"},{value:"은평구",label:"은평구"},{value:"서대문구",label:"서대문구"},{value:"마포구",label:"마포구"},{value:"양천구",label:"양천구"},{value:"강서구",label:"강서구"},{value:"구로구",label:"구로구"},{value:"금천구",label:"금천구"},{value:"영등포구",label:"영등포구"},{value:"동작구",label:"동작구"},{value:"관악구",label:"관악구"},{value:"서초구",label:"서초구"},{value:"강남구",label:"강남구"},{value:"송파구",label:"송파구"},{value:"강동구",label:"강동구"}]},{value:"부산광역시",label:"부산광역시",children:[{value:"중구",label:"중구"},{value:"서구",label:"서구"},{value:"동구",label:"동구"},{value:"영도구",label:"영도구"},{value:"부산진구",label:"부산진구"},{value:"동래구",label:"동래구"},{value:"남구",label:"남구"},{value:"북구",label:"북구"},{value:"해운대구",label:"해운대구"},{value:"사하구",label:"사하구"},{value:"금정구",label:"금정구"},{value:"강서구",label:"강서구"},{value:"연제구",label:"연제구"},{value:"수영구",label:"수영구"},{value:"사상구",label:"사상구"}]},{value:"대구광역시",label:"대구광역시",children:[{value:"중구",label:"중구"},{value:"동구",label:"동구"},{value:"서구",label:"서구"},{value:"남구",label:"남구"},{value:"북구",label:"북구"},{value:"수성구",label:"수성구"},{value:"달서구",label:"달서구"}]},{value:"인천광역시",label:"인천광역시",children:[{value:"중구",label:"중구"},{value:"동구",label:"동구"},{value:"미추홀구",label:"미추홀구"},{value:"연수구",label:"연수구"},{value:"남동구",label:"남동구"},{value:"부평구",label:"부평구"},{value:"계양구",label:"계양구"},{value:"서구",label:"서구"}]},{value:"광주광역시",label:"광주광역시",children:[{value:"동구",label:"동구"},{value:"서구",label:"서구"},{value:"남구",label:"남구"},{value:"북구",label:"북구"},{value:"광산구",label:"광산구"}]},{value:"대전광역시",label:"대전광역시",children:[{value:"동구",label:"동구"},{value:"중구",label:"중구"},{value:"서구",label:"서구"},{value:"유성구",label:"유성구"},{value:"대덕구",label:"대덕구"}]},{value:"울산광역시",label:"울산광역시",children:[{value:"중구",label:"중구"},{value:"남구",label:"남구"},{value:"동구",label:"동구"},{value:"북구",label:"북구"}]},{value:"경기도",label:"경기도",children:[{value:"수원시",label:"수원시"},{value:"성남시",label:"성남시"},{value:"고양시",label:"고양시"},{value:"용인시",label:"용인시"},{value:"부천시",label:"부천시"},{value:"안산시",label:"안산시"},{value:"안양시",label:"안양시"},{value:"남양주시",label:"남양주시"},{value:"화성시",label:"화성시"},{value:"평택시",label:"평택시"},{value:"의정부시",label:"의정부시"},{value:"시흥시",label:"시흥시"},{value:"파주시",label:"파주시"},{value:"김포시",label:"김포시"},{value:"광명시",label:"광명시"},{value:"광주시",label:"광주시"},{value:"군포시",label:"군포시"},{value:"오산시",label:"오산시"},{value:"이천시",label:"이천시"},{value:"양주시",label:"양주시"},{value:"안성시",label:"안성시"},{value:"구리시",label:"구리시"},{value:"포천시",label:"포천시"},{value:"의왕시",label:"의왕시"},{value:"하남시",label:"하남시"},{value:"여주시",label:"여주시"},{value:"동두천시",label:"동두천시"},{value:"과천시",label:"과천시"}]},{value:"강원도",label:"강원도",children:[{value:"춘천시",label:"춘천시"},{value:"원주시",label:"원주시"},{value:"강릉시",label:"강릉시"},{value:"동해시",label:"동해시"},{value:"태백시",label:"태백시"},{value:"속초시",label:"속초시"},{value:"삼척시",label:"삼척시"}]}];a["a"]=t},cf05:function(e,a,l){e.exports=l.p+"static/img/logo.2286f000.png"},dabf:function(e,a,l){}}]);