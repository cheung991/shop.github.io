(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e95d9904"],{1860:function(t,a,e){},"1b2a":function(t,a,e){},"21ed":function(t,a,e){"use strict";e("8372")},4892:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[a("app-head",{attrs:{searchInput:t.searchValue}}),a("app-body",[a("div",{staticClass:"main-content"},[a("div",{staticClass:"search-header"},[a("div",{staticClass:"location"},[a("i",{staticClass:"el-icon-location"}),a("span",[t._v("한양대erica")])]),a("div",{staticClass:"search-bar"},[a("el-input",{attrs:{placeholder:"검색하세요!","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.doSearch.apply(null,arguments)}},model:{value:t.searchValue,callback:function(a){t.searchValue=a},expression:"searchValue"}})],1)]),a("div",{staticClass:"section-title"},[t._v("검색 결과")]),0===t.idleList.length?a("div",{staticClass:"no-results"},[t._v("검색 결과가 없습니다")]):t._e(),a("div",{staticClass:"product-grid"},t._l(t.idleList,(function(e,s){return a("div",{key:s,staticClass:"product-card",on:{click:function(a){return t.toDetails(e)}}},[a("div",{staticClass:"product-image"},[a("el-image",{attrs:{src:e.imgUrl,fit:"cover"}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"},[t._v("무이미지")])])]),s%2===0?a("div",{staticClass:"discount-badge"},[t._v("30%")]):t._e()],1),a("div",{staticClass:"product-info"},[a("div",{staticClass:"product-name"},[t._v(t._s(e.idleName))]),a("div",{staticClass:"product-price"},[t._v("₩"+t._s(e.idlePrice))]),a("div",{staticClass:"product-place"},[t._v(t._s(e.idlePlace))]),a("div",{staticClass:"product-time"},[t._v(t._s(e.timeStr))])])])})),0),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":8,layout:"prev, pager, next",total:t.totalItem},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.currentPage=a},"update:current-page":function(a){t.currentPage=a}}})],1)]),a("app-foot")],1)],1)},i=[],n=(e("a481"),e("6e70")),r=e("4fc4"),c=e("85a9"),o={name:"search",components:{AppHead:n["a"],AppBody:r["a"],AppFoot:c["a"]},data:function(){return{idleList:[],currentPage:1,searchValue:"",totalItem:1}},created:function(){this.findIdleTiem(1,this.$route.query.searchValue),this.searchValue=this.$route.query.searchValue},watch:{$route:function(t,a){this.searchValue=t.query.searchValue,this.findIdleTiem(t.query.page,t.query.searchValue)}},methods:{findIdleTiem:function(t,a){var e=this;this.$api.findIdleTiem({page:t,nums:8,findValue:a}).then((function(t){console.log(t);for(var a=t.data.list,s=0;s<a.length;s++){a[s].timeStr=a[s].releaseTime.substring(0,10)+" "+a[s].releaseTime.substring(11,19);var i=JSON.parse(a[s].pictureList);a[s].imgUrl=i.length>0?i[0]:""}e.idleList=a,e.totalItem=t.data.count})).catch((function(t){console.log(t)}))},doSearch:function(){this.$router.replace({query:{page:1,searchValue:this.searchValue}})},handleCurrentChange:function(t){console.log("현재 페이지: ".concat(t)),this.$router.replace({query:{page:t,searchValue:this.searchValue}})},toDetails:function(t){this.$router.push({path:"/details",query:{id:t.id}})}}},l=o,u=(e("21ed"),e("2877")),d=Object(u["a"])(l,s,i,!1,null,"2e8b2f8d",null);a["default"]=d.exports},"4fc4":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-content"},[t._t("default")],2)])},i=[],n={name:"PageBody"},r=n,c=(e("8d80"),e("2877")),o=Object(c["a"])(r,s,i,!1,null,"37fb9066",null);a["a"]=o.exports},"6e70":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-container"},[a("div",{staticClass:"app-name"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticStyle:{width:"36px",position:"relative",top:"5px","border-radius":"50%"},attrs:{src:e("cf05")}}),a("b",[t._v("임박 할인 식품")])])],1),a("div",{staticClass:"nav-actions"},[a("router-link",{staticClass:"nav-icon",attrs:{to:"/release"}},[a("i",{staticClass:"el-icon-plus"})]),a("router-link",{staticClass:"nav-icon",attrs:{to:"/message"}},[a("i",{staticClass:"el-icon-bell"})]),t.isLogin?a("el-dropdown",{attrs:{trigger:"click"}},[a("div",{staticClass:"user-profile"},[a("el-avatar",{attrs:{size:32,src:t.avatarValue?t.avatarValue:t.avatar}})],1),a("el-dropdown-menu",{staticClass:"dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticClass:"dropdown-item",on:{click:t.toMe}},[t._v("마이페이지")])]),a("el-dropdown-item",{staticClass:"logout-item",attrs:{divided:""}},[a("div",{on:{click:t.loginOut}},[t._v("로그아웃")])])],1)],1):a("router-link",{staticClass:"nav-icon user-icon",attrs:{to:"/login"}},[a("i",{staticClass:"el-icon-user"})])],1)])])},i=[],n=(e("a481"),{name:"Header",props:["searchInput","nicknameValue","avatarValue"],data:function(){return{searchValue:this.searchInput,nickname:"로그인",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",isLogin:!1}},created:function(){var t=this;this.$globalData.userInfo.nickname?(this.nickname=this.$globalData.userInfo.nickname,this.avatar=this.$globalData.userInfo.avatar,this.isLogin=!0):this.$api.getUserInfo().then((function(a){console.log("Header getUserInfo:",a),1===a.status_code&&(t.nickname=a.data.nickname,t.avatar=a.data.avatar,a.data.signInTime=a.data.signInTime.substring(0,10),t.$globalData.userInfo=a.data,t.isLogin=!0)}))},methods:{searchIdle:function(){"/search"!==this.$route.path?this.$router.push({path:"/search",query:{searchValue:this.searchValue}}):(this.$router.replace({path:"/search",query:{searchValue:this.searchValue}}),this.$router.go(0))},toMe:function(){"/me"!==this.$route.path&&this.$router.push({path:"/me"})},toMessage:function(){"/message"!==this.$route.path&&this.$router.push({path:"/message"})},toRelease:function(){"/release"!==this.$route.path&&this.$router.push({path:"/release"})},loginOut:function(){var t=this;this.$api.logout().then((function(a){1===a.status_code?(t.$globalData.userInfo={},console.log("login out"),"/index"===t.$route.path?t.$router.go(0):t.$router.push({path:"/index"})):t.$message.error("네트워크 오류. 로그아웃 실패!")}))}}}),r=n,c=(e("7154"),e("2877")),o=Object(c["a"])(r,s,i,!1,null,"1d9eff64",null);a["a"]=o.exports},7154:function(t,a,e){"use strict";e("dabf")},"72a3":function(t,a,e){"use strict";e("1b2a")},8372:function(t,a,e){},"85a9":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"foot-container"},[a("div",{staticClass:"nav-container"},[a("router-link",{staticClass:"nav-item",class:{active:t.isActivePage("/index")},attrs:{to:"/index"}},[a("i",{staticClass:"el-icon-s-home"}),a("span",[t._v("홈")])]),a("router-link",{staticClass:"nav-item",class:{active:t.isActivePage("/search")},attrs:{to:"/search"}},[a("i",{staticClass:"el-icon-search"}),a("span",[t._v("검색")])]),a("router-link",{staticClass:"nav-item",class:{active:t.isActivePage("/release")},attrs:{to:"/release"}},[a("i",{staticClass:"el-icon-plus"}),a("span",[t._v("등록")])]),a("router-link",{staticClass:"nav-item",class:{active:t.isActivePage("/message")},attrs:{to:"/message"}},[a("i",{staticClass:"el-icon-bell"}),a("span",[t._v("메시지")])]),a("router-link",{staticClass:"nav-item",class:{active:t.isActivePage("/me")},attrs:{to:"/me"}},[a("i",{staticClass:"el-icon-user"}),a("span",[t._v("마이")])])],1)])},i=[],n={name:"Foot",methods:{isActivePage:function(t){return this.$route.path===t}}},r=n,c=(e("72a3"),e("2877")),o=Object(c["a"])(r,s,i,!1,null,"2c5dd8f7",null);a["a"]=o.exports},"8d80":function(t,a,e){"use strict";e("1860")},cf05:function(t,a,e){t.exports=e.p+"static/img/logo.2286f000.png"},dabf:function(t,a,e){}}]);