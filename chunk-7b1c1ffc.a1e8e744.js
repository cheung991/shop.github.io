(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b1c1ffc"],{1860:function(t,a,s){},"1b2a":function(t,a,s){},"37ee":function(t,a,s){"use strict";s("a18d")},"4fc4":function(t,a,s){"use strict";var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-content"},[t._t("default")],2)])},i=[],n={name:"PageBody"},o=n,c=(s("8d80"),s("2877")),r=Object(c["a"])(o,e,i,!1,null,"37fb9066",null);a["a"]=r.exports},"6e70":function(t,a,s){"use strict";var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-container"},[a("div",{staticClass:"app-name"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticStyle:{width:"36px",position:"relative",top:"5px","border-radius":"50%"},attrs:{src:s("cf05")}}),a("b",[t._v("임박 할인 식품")])])],1),a("div",{staticClass:"nav-actions"},[a("router-link",{staticClass:"nav-icon",attrs:{to:"/release"}},[a("i",{staticClass:"el-icon-plus"})]),a("router-link",{staticClass:"nav-icon",attrs:{to:"/message"}},[a("i",{staticClass:"el-icon-bell"})]),t.isLogin?a("el-dropdown",{attrs:{trigger:"click"}},[a("div",{staticClass:"user-profile"},[a("el-avatar",{attrs:{size:32,src:t.avatarValue?t.avatarValue:t.avatar}})],1),a("el-dropdown-menu",{staticClass:"dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{staticClass:"dropdown-item",on:{click:t.toMe}},[t._v("마이페이지")])]),a("el-dropdown-item",{staticClass:"logout-item",attrs:{divided:""}},[a("div",{on:{click:t.loginOut}},[t._v("로그아웃")])])],1)],1):a("router-link",{staticClass:"nav-icon user-icon",attrs:{to:"/login"}},[a("i",{staticClass:"el-icon-user"})])],1)])])},i=[],n=(s("a481"),{name:"Header",props:["searchInput","nicknameValue","avatarValue"],data:function(){return{searchValue:this.searchInput,nickname:"로그인",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",isLogin:!1}},created:function(){var t=this;this.$globalData.userInfo.nickname?(this.nickname=this.$globalData.userInfo.nickname,this.avatar=this.$globalData.userInfo.avatar,this.isLogin=!0):this.$api.getUserInfo().then((function(a){console.log("Header getUserInfo:",a),1===a.status_code&&(t.nickname=a.data.nickname,t.avatar=a.data.avatar,a.data.signInTime=a.data.signInTime.substring(0,10),t.$globalData.userInfo=a.data,t.isLogin=!0)}))},methods:{searchIdle:function(){"/search"!==this.$route.path?this.$router.push({path:"/search",query:{searchValue:this.searchValue}}):(this.$router.replace({path:"/search",query:{searchValue:this.searchValue}}),this.$router.go(0))},toMe:function(){"/me"!==this.$route.path&&this.$router.push({path:"/me"})},toMessage:function(){"/message"!==this.$route.path&&this.$router.push({path:"/message"})},toRelease:function(){"/release"!==this.$route.path&&this.$router.push({path:"/release"})},loginOut:function(){var t=this;this.$api.logout().then((function(a){1===a.status_code?(t.$globalData.userInfo={},console.log("login out"),"/index"===t.$route.path?t.$router.go(0):t.$router.push({path:"/index"})):t.$message.error("네트워크 오류. 로그아웃 실패!")}))}}}),o=n,c=(s("7154"),s("2877")),r=Object(c["a"])(o,e,i,!1,null,"1d9eff64",null);a["a"]=r.exports},7154:function(t,a,s){"use strict";s("dabf")},"72a3":function(t,a,s){"use strict";s("1b2a")},"85a9":function(t,a,s){"use strict";var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"foot-container"},[a("div",{staticClass:"nav-container"},[a("router-link",{staticClass:"nav-item",class:{active:t.isActivePage("/index")},attrs:{to:"/index"}},[a("i",{staticClass:"el-icon-s-home"}),a("span",[t._v("홈")])]),a("router-link",{staticClass:"nav-item",class:{active:t.isActivePage("/search")},attrs:{to:"/search"}},[a("i",{staticClass:"el-icon-search"}),a("span",[t._v("검색")])]),a("router-link",{staticClass:"nav-item",class:{active:t.isActivePage("/release")},attrs:{to:"/release"}},[a("i",{staticClass:"el-icon-plus"}),a("span",[t._v("등록")])]),a("router-link",{staticClass:"nav-item",class:{active:t.isActivePage("/message")},attrs:{to:"/message"}},[a("i",{staticClass:"el-icon-bell"}),a("span",[t._v("메시지")])]),a("router-link",{staticClass:"nav-item",class:{active:t.isActivePage("/me")},attrs:{to:"/me"}},[a("i",{staticClass:"el-icon-user"}),a("span",[t._v("마이")])])],1)])},i=[],n={name:"Foot",methods:{isActivePage:function(t){return this.$route.path===t}}},o=n,c=(s("72a3"),s("2877")),r=Object(c["a"])(o,e,i,!1,null,"2c5dd8f7",null);a["a"]=r.exports},"8d80":function(t,a,s){"use strict";s("1860")},a18d:function(t,a,s){},cf05:function(t,a,s){t.exports=s.p+"static/img/logo.2286f000.png"},dabf:function(t,a,s){},e4b4:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[a("app-head"),a("app-body",[a("div",{staticClass:"main-content"},[a("div",{staticClass:"page-title"},[t._v("메시지")]),0===t.meslist.length?a("div",{staticClass:"no-messages"},[a("i",{staticClass:"el-icon-chat-dot-round empty-icon"}),a("div",{staticClass:"empty-text"},[t._v("메시지가 없습니다")])]):t._e(),t._l(t.meslist,(function(s,e){return a("div",{key:e,staticClass:"message-card",on:{click:function(a){return t.toDetails(s.idle.id)}}},[a("div",{staticClass:"message-left"},[a("el-image",{staticClass:"user-avatar",attrs:{src:s.fromU.avatar,fit:"cover"}}),a("div",{staticClass:"message-content"},[a("div",{staticClass:"message-nickname"},[t._v(t._s(s.fromU.nickname))]),a("div",{staticClass:"message-text"},[t._v(t._s(s.content))]),a("div",{staticClass:"message-time"},[t._v(t._s(s.createTime))])])],1),a("div",{staticClass:"message-right"},[a("el-image",{staticClass:"product-thumbnail",attrs:{src:s.idle.imgUrl,fit:"cover"}})],1)])}))],2),a("app-foot")],1)],1)},i=[],n=(s("28a5"),s("6e70")),o=s("4fc4"),c=s("85a9"),r={name:"message",components:{AppHead:n["a"],AppBody:o["a"],AppFoot:c["a"]},data:function(){return{meslist:[]}},created:function(){var t=this;this.$api.getAllMyMessage().then((function(a){if(console.log(a),1===a.status_code){for(var s=0;s<a.data.length;s++){var e=JSON.parse(a.data[s].idle.pictureList);a.data[s].idle.imgUrl=e?e[0]:"";for(var i=a.data[s].content.split("<br>"),n=i[0],o=1;o<i.length;o++)n+="  "+i[o];a.data[s].content=n}t.meslist=a.data}}))},methods:{toDetails:function(t){this.$router.push({path:"/details",query:{id:t}})}}},l=r,u=(s("37ee"),s("2877")),d=Object(u["a"])(l,e,i,!1,null,"0f4ed0d0",null);a["default"]=d.exports}}]);